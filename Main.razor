@using Microsoft.AspNetCore.Components.Routing
@using Microsoft.AspNetCore.Components.WebView.Maui
@using JPsShopz.Pages
@inject Authenticate.UserAuthenticationService AuthenticationService
@inject NavigationManager NavigationManager

<Router AppAssembly="@typeof(Main).Assembly">
    <Found Context="routeData">
        <RouteView RouteData="@routeData" DefaultLayout="typeof(MainLayout)" />
        <FocusOnNavigate RouteData="@routeData" Selector="h1" />
    </Found>
    <NotFound>
        <LayoutView Layout="@typeof(MainLayout)">
            <p>Redirecting to the login page...</p>
            <Redirect To="/login" />
        </LayoutView>
    </NotFound>
</Router>


@code {
    // RedirectToLogin component
    private class RedirectToLogin : ComponentBase
    {
        [Inject] public NavigationManager NavigationManager { get; set; }

        protected override void OnInitialized()
        {
            NavigationManager.NavigateTo("/login");
        }
    }
}
